<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Carica le tue foto üì∏</title>
  <meta name="robots" content="noindex, nofollow, noarchive, nosnippet, noimageindex" />
  <meta name="googlebot" content="noindex, nofollow, noarchive, nosnippet, noimageindex" />

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Marcellus&family=Montserrat:wght@500;600&display=swap" rel="stylesheet">

  <!-- Cloudinary Upload Widget -->
  <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>

  <style>
    
    /* NAVBAR */
    .nav{
      position:fixed; top:0; left:0; right:0; z-index:1000;
      display:flex; align-items:center; justify-content:space-between;
      padding:12px clamp(14px,4vw,28px);
      background:rgba(250,249,246,0.96);
      border-bottom:1px solid rgba(0,0,0,0.08);
      box-shadow:0 4px 20px rgba(0,0,0,0.06);
      backdrop-filter: blur(8px);
    }
    .logo-badge{
      width:56px; height:56px; border-radius:18px;
      display:grid; place-items:center;
      font-family:'Marcellus',serif; font-size:26px; font-weight:700;
      color:#222;
      border:2px solid #222;
      background:rgba(250,249,246,0.95);
      box-shadow:0 8px 18px rgba(0,0,0,0.10);
      user-select:none;
      flex:0 0 auto;
    }
    .navlinks{ display:flex; gap:clamp(10px,3vw,22px); align-items:center; flex:1 1 auto; }
    .navlinks a{
      color:#222; text-decoration:none; font-weight:800;
      padding:8px 10px; border-radius:10px;
      transition: background .2s ease, transform .1s;
      flex:0 0 auto; white-space:nowrap;
      touch-action: manipulation;
    }
    .navlinks a:hover{ background: rgba(0,0,0,0.08); }
    .navlinks a:active{ transform: translateY(1px); }
    .navlinks a.nav-upload{ border:1px solid rgba(0,0,0,0.18); background: rgba(0,0,0,0.04); }
    .navlinks a.nav-upload:hover{ background: rgba(0,0,0,0.08); }


/* MOBILE / SMALL-SCREEN NAV IMPROVEMENTS */
.logo-badge { flex: 0 0 auto; }
.navlinks {
  flex: 1 1 auto;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  padding: 2px 0;
}
.navlinks::-webkit-scrollbar { display: none; }
.navlinks a {
  flex: 0 0 auto;
  white-space: nowrap;
  touch-action: manipulation;
}
.navlinks a.nav-upload {
  border: 1px solid rgba(0,0,0,0.18);
  background: rgba(0,0,0,0.04);
}
.navlinks a.nav-upload:hover { background: rgba(0,0,0,0.08); }

@media (max-width: 720px) {
  .nav { padding: 10px 12px; }
  .logo-badge { width: 48px; height: 48px; border-radius: 16px; font-size: 22px; }
  .navlinks { gap: 10px; }
  .navlinks a { padding: 8px 8px; font-size: 14px; }
}

:root { --blue:#008CFF; --coral:#FF3B5B; }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh;
      padding-top: 90px;
      font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      background:linear-gradient(135deg,#c2e9fb,#f9c2f9);
      display:grid; place-items:center; padding: 20px;
    }
    .card{
      width:min(680px,92vw);
      background:#fff; border-radius:22px;
      padding:36px 28px;
      box-shadow:0 20px 50px rgba(0,0,0,.12);
      text-align:center;
    }
    h1{
      font-family:'Marcellus',serif;
      margin:0 0 8px; font-size:clamp(26px,4vw,36px);
    }
    p{color:#2b2b2b; margin:0 0 18px}
    .btn{
      display:inline-block; border:0; cursor:pointer;
      padding:12px 26px; border-radius:999px; color:#fff; font-weight:800;
      background:linear-gradient(90deg,var(--blue),var(--coral));
      box-shadow:0 12px 28px rgba(0,0,0,.18);
      transition:transform .15s ease, box-shadow .15s ease;
    }
    .btn:hover{ transform:translateY(-2px); box-shadow:0 16px 34px rgba(0,0,0,.24); }
    .link{ display:inline-block; margin-top:14px; color:var(--blue); font-weight:800; text-decoration:none }
    .muted{ font-size:.92rem; color:#475569 }
  

    /* UPLOAD MOBILE */
    @media (max-width: 520px) {
      .card{ padding: 26px 18px; border-radius: 18px; }
      .btn{ width: 100%; padding: 14px 18px; }
    }
  </style>
</head>
<body>
  
  <nav class="nav">
    <div class="logo-badge" aria-label="Logo E e C">E&amp;C</div>
    <div class="navlinks">
      <a href="index.html">Home</a>
      <a href="cerimonia.html">Cerimonia</a>
      <a href="ricevimento.html">Ricevimento</a>
      <a href="mappa.html">Mappa</a>
      <a href="lista-nozze.html">Lista Nozze</a>
      <a href="rsvp.html">RSVP</a>
      <a href="storia.html">Storia</a>
      <a href="gallery.html">Gallery</a>
      <a href="contatti.html">Contatti</a>
      <a href="upload.html" class="nav-upload">Upload Foto</a>
    </div>
  </nav>
<main class="card" aria-label="Carica foto">
    <h1>Carica le tue foto üì∏</h1>
    <p>Premi il bottone, scegli le foto dal telefono e inviale. Le immagini in HD andranno nell‚Äôalbum degli sposi.</p>

    <button id="uploadBtn" class="btn">Carica foto</button>
    <br />
    <a class="link" href="index.html">‚Üê Torna al sito</a>

    <p class="muted" style="margin-top:16px">
      Puoi selezionare pi√π file (max 50 MB ciascuno). Formati: JPG/PNG/HEIC/WEBP.
    </p>
  </main>

  <script>
    // Configura i TUOI dati Cloudinary
    const cloudName    = 'dmzv9mzpr';     // ‚Üê il tuo cloud name
    const uploadPreset = 'wedding-ec';    // ‚Üê il tuo preset UNSIGNED
    const targetFolder = 'wedding-ec';    // ‚Üê cartella di destinazione

    function ensureWidgetLoaded(){
      if (typeof window.cloudinary === 'undefined'){
        alert("Non riesco ad aprire il selettore foto.\nControlla che l'ad-blocker o la protezione del browser non blocchino contenuti di terze parti e riprova.");
        console.error('Cloudinary widget non disponibile.');
        return false;
      }
      return true;
    }

    document.getElementById('uploadBtn').addEventListener('click', function(){
      if (!ensureWidgetLoaded()) return;

      window.cloudinary.openUploadWidget({
        cloudName: cloudName,
        uploadPreset: uploadPreset,        // deve essere UNSIGNED + Enabled
        folder: targetFolder,              // cartella dove salvare le foto
        sources: ['local','camera'],
        multiple: true,
        maxFileSize: 50 * 1024 * 1024,     // 50MB per file
        clientAllowedFormats: ['jpg','jpeg','png','heic','webp'],
        showAdvancedOptions: false,
        showPoweredBy: false,
        cropping: false,
        defaultSource: 'local',
      }, (error, result) => {
        if (error){
          console.error('Cloudinary error:', error);
          alert('Si √® verificato un errore durante il caricamento. Riprova.');
          return;
        }

        // Per ogni file caricato con successo
        if (result && result.event === 'success') {
          console.log('‚úÖ Upload:', result.info.original_filename, result.info.secure_url);
        }

        // Quando la coda √® terminata (tutti i file processati)
        if (result && result.event === 'queues-end') {
          alert('Grazie! Le tue foto sono state caricate ‚úÖ');
          // Se vuoi tornare alla home automaticamente:
          // window.location.href = 'index.html';
        }
      });
    });
  </script>
</body>
</html>
